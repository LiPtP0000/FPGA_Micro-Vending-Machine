<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: state transitions Pages: 1 -->
<svg width="580pt" height="516pt"
 viewBox="0.00 0.00 579.95 516.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 512)">
<title>state transitions</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-512 575.948,-512 575.948,4 -4,4"/>
<g id="clust1" class="cluster state regular">
<title>cluster_state</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M20,-8C20,-8 488,-8 488,-8 494,-8 500,-14 500,-20 500,-20 500,-488 500,-488 500,-494 494,-500 488,-500 488,-500 20,-500 20,-500 14,-500 8,-494 8,-488 8,-488 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="start" x="240.9944" y="-481.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">state</text>
</g>
<!-- state -->
<!-- IDLE -->
<g id="node2" class="node state regular">
<title>IDLE</title>
<polygon fill="#ffffff" fill-opacity="0.003922" stroke="transparent" stroke-width="2" points="278,-462 222,-462 222,-426 278,-426 278,-462"/>
<text text-anchor="start" x="236.6644" y="-440.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">IDLE</text>
<path fill="none" stroke="#000000" stroke-width="2" d="M234.3333,-427C234.3333,-427 265.6667,-427 265.6667,-427 271.3333,-427 277,-432.6667 277,-438.3333 277,-438.3333 277,-449.6667 277,-449.6667 277,-455.3333 271.3333,-461 265.6667,-461 265.6667,-461 234.3333,-461 234.3333,-461 228.6667,-461 223,-455.3333 223,-449.6667 223,-449.6667 223,-438.3333 223,-438.3333 223,-432.6667 228.6667,-427 234.3333,-427"/>
</g>
<!-- GOODS_one -->
<g id="node3" class="node state regular">
<title>GOODS_one</title>
<polygon fill="#ffffff" fill-opacity="0.003922" stroke="transparent" stroke-width="2" points="174.5,-380 81.5,-380 81.5,-344 174.5,-344 174.5,-380"/>
<text text-anchor="start" x="92.8234" y="-358.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">GOODS_one</text>
<path fill="none" stroke="#000000" stroke-width="2" d="M93.8333,-345C93.8333,-345 162.1667,-345 162.1667,-345 167.8333,-345 173.5,-350.6667 173.5,-356.3333 173.5,-356.3333 173.5,-367.6667 173.5,-367.6667 173.5,-373.3333 167.8333,-379 162.1667,-379 162.1667,-379 93.8333,-379 93.8333,-379 88.1667,-379 82.5,-373.3333 82.5,-367.6667 82.5,-367.6667 82.5,-356.3333 82.5,-356.3333 82.5,-350.6667 88.1667,-345 93.8333,-345"/>
</g>
<!-- IDLE&#45;&gt;GOODS_one -->
<g id="edge1" class="edge transition">
<title>IDLE&#45;&gt;GOODS_one</title>
<path fill="none" stroke="#000000" d="M222.9242,-425.8015C205.3919,-414.0175 182.3774,-398.5487 163.4007,-385.7939"/>
<polygon fill="#000000" stroke="#000000" points="165.252,-382.8212 155.0001,-380.1476 161.3472,-388.6308 165.252,-382.8212"/>
<text text-anchor="start" x="197" y="-400" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">sys_Confirm &#160;&#160;</text>
</g>
<!-- GOODS_one&#45;&gt;GOODS_one -->
<g id="edge4" class="edge transition">
<title>GOODS_one&#45;&gt;GOODS_one</title>
<path fill="none" stroke="#000000" d="M174.7439,-366.8322C187.1236,-366.556 196.5,-364.9453 196.5,-362 196.5,-359.9291 191.8645,-358.518 184.8087,-357.7666"/>
<polygon fill="#000000" stroke="#000000" points="184.9341,-354.268 174.7439,-357.1678 184.5183,-361.2556 184.9341,-354.268"/>
<text text-anchor="start" x="196.5" y="-365" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">not (sys_Goods) &#160;&#160;</text>
<text text-anchor="start" x="196.5" y="-353" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">not (sys_Confirm) &#160;&#160;</text>
</g>
<!-- GOODS_two -->
<g id="node4" class="node state regular">
<title>GOODS_two</title>
<polygon fill="#ffffff" fill-opacity="0.003922" stroke="transparent" stroke-width="2" points="261,-298 169,-298 169,-262 261,-262 261,-298"/>
<text text-anchor="start" x="179.9954" y="-276.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">GOODS_two</text>
<path fill="none" stroke="#000000" stroke-width="2" d="M181.3333,-263C181.3333,-263 248.6667,-263 248.6667,-263 254.3333,-263 260,-268.6667 260,-274.3333 260,-274.3333 260,-285.6667 260,-285.6667 260,-291.3333 254.3333,-297 248.6667,-297 248.6667,-297 181.3333,-297 181.3333,-297 175.6667,-297 170,-291.3333 170,-285.6667 170,-285.6667 170,-274.3333 170,-274.3333 170,-268.6667 175.6667,-263 181.3333,-263"/>
</g>
<!-- GOODS_one&#45;&gt;GOODS_two -->
<g id="edge2" class="edge transition">
<title>GOODS_one&#45;&gt;GOODS_two</title>
<path fill="none" stroke="#000000" d="M131.038,-343.8083C133.4033,-334.3142 137.5316,-323.0359 144.648,-315 149.0839,-309.9909 154.4025,-305.6165 160.1026,-301.8173"/>
<polygon fill="#000000" stroke="#000000" points="161.9097,-304.8148 168.6687,-296.656 158.297,-298.8191 161.9097,-304.8148"/>
<text text-anchor="start" x="144" y="-318" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">sys_Goods &#160;&#160;</text>
</g>
<!-- PAYMENT -->
<g id="node5" class="node state regular">
<title>PAYMENT</title>
<polygon fill="#ffffff" fill-opacity="0.003922" stroke="transparent" stroke-width="2" points="164.5,-216 85.5,-216 85.5,-180 164.5,-180 164.5,-216"/>
<text text-anchor="start" x="96.5002" y="-194.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">PAYMENT</text>
<path fill="none" stroke="#000000" stroke-width="2" d="M97.8333,-181C97.8333,-181 152.1667,-181 152.1667,-181 157.8333,-181 163.5,-186.6667 163.5,-192.3333 163.5,-192.3333 163.5,-203.6667 163.5,-203.6667 163.5,-209.3333 157.8333,-215 152.1667,-215 152.1667,-215 97.8333,-215 97.8333,-215 92.1667,-215 86.5,-209.3333 86.5,-203.6667 86.5,-203.6667 86.5,-192.3333 86.5,-192.3333 86.5,-186.6667 92.1667,-181 97.8333,-181"/>
</g>
<!-- GOODS_one&#45;&gt;PAYMENT -->
<g id="edge3" class="edge transition">
<title>GOODS_one&#45;&gt;PAYMENT</title>
<path fill="none" stroke="#000000" d="M115.3594,-343.9348C107.5401,-331.6198 98.2334,-314.5945 94.111,-298 90.2535,-282.472 89.0118,-277.1657 94.111,-262 97.1328,-253.0128 102.3942,-253.2878 107,-245 110.2867,-239.0857 113.2321,-232.4489 115.7418,-226.0679"/>
<polygon fill="#000000" stroke="#000000" points="119.1341,-226.985 119.3136,-216.3917 112.5672,-224.5609 119.1341,-226.985"/>
<text text-anchor="start" x="94" y="-277" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">sys_Confirm &#160;&#160;</text>
</g>
<!-- GOODS_two&#45;&gt;GOODS_one -->
<g id="edge5" class="edge transition">
<title>GOODS_two&#45;&gt;GOODS_one</title>
<path fill="none" stroke="#000000" d="M214.4833,-298.1803C213.357,-307.6711 210.5709,-318.9498 204,-327 198.5202,-333.7134 191.4673,-339.1986 183.872,-343.6634"/>
<polygon fill="#000000" stroke="#000000" points="181.9916,-340.6977 174.7683,-348.4484 185.2485,-346.8939 181.9916,-340.6977"/>
<text text-anchor="start" x="210" y="-318" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">sys_Cancel &#160;&#160;</text>
</g>
<!-- GOODS_two&#45;&gt;GOODS_two -->
<g id="edge7" class="edge transition">
<title>GOODS_two&#45;&gt;GOODS_two</title>
<path fill="none" stroke="#000000" d="M261.0842,-284.839C273.5309,-284.5837 283,-282.9707 283,-280 283,-277.9112 278.3186,-276.4937 271.2124,-275.7474"/>
<polygon fill="#000000" stroke="#000000" points="271.2698,-272.2449 261.0842,-275.161 270.8651,-279.2332 271.2698,-272.2449"/>
<text text-anchor="start" x="283" y="-283" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">not (sys_Cancel) &#160;&#160;</text>
<text text-anchor="start" x="283" y="-271" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">not (sys_Confirm) &#160;&#160;</text>
</g>
<!-- GOODS_two&#45;&gt;PAYMENT -->
<g id="edge6" class="edge transition">
<title>GOODS_two&#45;&gt;PAYMENT</title>
<path fill="none" stroke="#000000" d="M195.0261,-261.8015C182.5585,-250.4422 166.3329,-235.6588 152.64,-223.1831"/>
<polygon fill="#000000" stroke="#000000" points="154.6673,-220.2953 144.9181,-216.1476 149.9528,-225.4697 154.6673,-220.2953"/>
<text text-anchor="start" x="175" y="-236" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">sys_Confirm &#160;&#160;</text>
</g>
<!-- PAYMENT&#45;&gt;PAYMENT -->
<g id="edge10" class="edge transition">
<title>PAYMENT&#45;&gt;PAYMENT</title>
<path fill="none" stroke="#000000" d="M164.6309,-202.8702C176.8806,-202.7719 186.5,-201.1484 186.5,-198 186.5,-195.7863 181.7443,-194.3265 174.6625,-193.6206"/>
<polygon fill="#000000" stroke="#000000" points="174.7901,-190.1228 164.6309,-193.1298 174.4479,-197.1144 174.7901,-190.1228"/>
<text text-anchor="start" x="186.5" y="-201" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">not (sys_Cancel) &#160;&#160;</text>
<text text-anchor="start" x="186.5" y="-189" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">not (input_money_buf &gt;= need_money_buf &amp; sys_Confirm) &#160;&#160;</text>
</g>
<!-- CHANGE -->
<g id="node6" class="node state regular">
<title>CHANGE</title>
<polygon fill="#ffffff" fill-opacity="0.003922" stroke="transparent" stroke-width="2" points="257.5,-52 184.5,-52 184.5,-16 257.5,-16 257.5,-52"/>
<text text-anchor="start" x="195.8356" y="-30.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">CHANGE</text>
<path fill="none" stroke="#000000" stroke-width="2" d="M196.8333,-17C196.8333,-17 245.1667,-17 245.1667,-17 250.8333,-17 256.5,-22.6667 256.5,-28.3333 256.5,-28.3333 256.5,-39.6667 256.5,-39.6667 256.5,-45.3333 250.8333,-51 245.1667,-51 245.1667,-51 196.8333,-51 196.8333,-51 191.1667,-51 185.5,-45.3333 185.5,-39.6667 185.5,-39.6667 185.5,-28.3333 185.5,-28.3333 185.5,-22.6667 191.1667,-17 196.8333,-17"/>
</g>
<!-- PAYMENT&#45;&gt;CHANGE -->
<g id="edge9" class="edge transition">
<title>PAYMENT&#45;&gt;CHANGE</title>
<path fill="none" stroke="#000000" d="M164.6011,-188.6612C191.0454,-181.2326 221,-169.958 221,-157 221,-157 221,-157 221,-75 221,-70.9516 221,-66.6784 221,-62.48"/>
<polygon fill="#000000" stroke="#000000" points="224.5001,-62.3687 221,-52.3688 217.5001,-62.3688 224.5001,-62.3687"/>
<text text-anchor="start" x="221" y="-113" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">input_money_buf &gt;= need_money_buf &amp; sys_Confirm &#160;&#160;</text>
</g>
<!-- TEMP -->
<g id="node7" class="node state regular">
<title>TEMP</title>
<polygon fill="#ffffff" fill-opacity="0.003922" stroke="transparent" stroke-width="2" points="72,-134 16,-134 16,-98 72,-98 72,-134"/>
<text text-anchor="start" x="27.3344" y="-112.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#000000">TEMP</text>
<path fill="none" stroke="#000000" stroke-width="2" d="M28.3333,-99C28.3333,-99 59.6667,-99 59.6667,-99 65.3333,-99 71,-104.6667 71,-110.3333 71,-110.3333 71,-121.6667 71,-121.6667 71,-127.3333 65.3333,-133 59.6667,-133 59.6667,-133 28.3333,-133 28.3333,-133 22.6667,-133 17,-127.3333 17,-121.6667 17,-121.6667 17,-110.3333 17,-110.3333 17,-104.6667 22.6667,-99 28.3333,-99"/>
</g>
<!-- PAYMENT&#45;&gt;TEMP -->
<g id="edge8" class="edge transition">
<title>PAYMENT&#45;&gt;TEMP</title>
<path fill="none" stroke="#000000" d="M107.0235,-179.8015C95.9075,-168.5483 81.4722,-153.9348 69.2221,-141.5335"/>
<polygon fill="#000000" stroke="#000000" points="71.4439,-138.8023 61.9263,-134.1476 66.4638,-143.7216 71.4439,-138.8023"/>
<text text-anchor="start" x="89" y="-154" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">sys_Cancel &#160;&#160;</text>
</g>
<!-- CHANGE&#45;&gt;IDLE -->
<g id="edge11" class="edge transition">
<title>CHANGE&#45;&gt;IDLE</title>
<path fill="none" stroke="#000000" d="M257.613,-37.8483C320.9445,-45.3424 446.7077,-64.1956 473,-98 505.2913,-139.5174 484.5144,-167.5688 464,-216 443.625,-264.102 389,-254.2608 389,-306.5 389,-403 389,-403 389,-403 389,-413.5534 329.2935,-427.8848 288.1432,-436.5088"/>
<polygon fill="#000000" stroke="#000000" points="287.2164,-433.1262 278.1287,-438.5727 288.6294,-439.9821 287.2164,-433.1262"/>
<text text-anchor="start" x="453" y="-236" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">change_money_buf == 0 &#160;&#160;</text>
</g>
<!-- CHANGE&#45;&gt;CHANGE -->
<g id="edge12" class="edge transition">
<title>CHANGE&#45;&gt;CHANGE</title>
<path fill="none" stroke="#000000" d="M257.5625,-38.875C269.75,-38.875 279.5,-37.25 279.5,-34 279.5,-31.7148 274.6797,-30.2331 267.5812,-29.5547"/>
<polygon fill="#000000" stroke="#000000" points="267.7033,-26.0568 257.5625,-29.125 267.4033,-33.0503 267.7033,-26.0568"/>
<text text-anchor="start" x="279.5" y="-31" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">not (change_money_buf == 0) &#160;&#160;</text>
</g>
<!-- TEMP&#45;&gt;GOODS_one -->
<g id="edge13" class="edge transition">
<title>TEMP&#45;&gt;GOODS_one</title>
<path fill="none" stroke="#000000" d="M40.1661,-134.2854C38.9902,-141.349 38,-149.5184 38,-157 38,-321 38,-321 38,-321 38,-330.1802 53.7033,-338.8448 71.9911,-345.8228"/>
<polygon fill="#000000" stroke="#000000" points="70.8238,-349.1224 81.4183,-349.2095 73.1905,-342.5346 70.8238,-349.1224"/>
<text text-anchor="start" x="38" y="-236" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">sys_Confirm &#160;&#160;</text>
</g>
<!-- TEMP&#45;&gt;CHANGE -->
<g id="edge14" class="edge transition">
<title>TEMP&#45;&gt;CHANGE</title>
<path fill="none" stroke="#000000" d="M72.0462,-103.0069C99.7271,-90.1829 142.5227,-70.3567 175.1519,-55.2403"/>
<polygon fill="#000000" stroke="#000000" points="176.8909,-58.2922 184.4932,-50.9128 173.9483,-51.9406 176.8909,-58.2922"/>
<text text-anchor="start" x="144" y="-72" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">sys_Change &#160;&#160;</text>
</g>
<!-- TEMP&#45;&gt;TEMP -->
<g id="edge15" class="edge transition">
<title>TEMP&#45;&gt;TEMP</title>
<path fill="none" stroke="#000000" d="M72.0183,-120.8247C83.888,-121.1883 94,-119.5801 94,-116 94,-113.5387 89.2205,-112.0094 82.3762,-111.4121"/>
<polygon fill="#000000" stroke="#000000" points="82.0957,-107.9049 72.0183,-111.1753 81.9356,-114.903 82.0957,-107.9049"/>
<text text-anchor="start" x="94" y="-119" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">not (sys_Confirm) &#160;&#160;</text>
<text text-anchor="start" x="94" y="-107" font-family="Helvetica,sans-Serif" font-size="10.00" fill="#000000">not (sys_Change) &#160;&#160;</text>
</g>
</g>
</svg>
